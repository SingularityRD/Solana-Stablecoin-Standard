# =============================================================================
# Solana Stablecoin Standard - Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# NEVER commit .env file with production credentials to version control

# =============================================================================
# General Configuration
# =============================================================================
# Application version (used for Docker image tagging)
VERSION=1.0.0

# Environment: development, staging, production
# REQUIRED in production - affects security settings
ENVIRONMENT=development

# Log level: trace, debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# PostgreSQL Database Configuration
# =============================================================================
POSTGRES_USER=sss
# CHANGE THIS IN PRODUCTION! Use a strong password (min 32 characters)
POSTGRES_PASSWORD=sss_password_change_in_production
POSTGRES_DB=sss_db
POSTGRES_PORT=5432

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_PORT=6379
# Optional: Set a password for Redis (recommended for production)
# REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# Backend API Configuration
# =============================================================================
BACKEND_PORT=3001

# JWT Configuration
# CHANGE THIS IN PRODUCTION! Use a secure random string (min 64 characters)
# REQUIRED in production - application will fail to start without it
JWT_SECRET=change_this_to_a_secure_random_string_in_production
JWT_EXPIRY_SECS=86400

# CSRF Secret for token generation
# REQUIRED in production - application will fail to start without it
# Generate with: openssl rand -base64 64
CSRF_SECRET=change_this_to_a_secure_csrf_secret_in_production

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECS=60

# =============================================================================
# CORS Configuration (IMPORTANT for Production)
# =============================================================================
# Comma-separated list of allowed origins
# REQUIRED in production - application will fail to start without it
# Examples:
#   CORS_ORIGINS=https://app.example.com,https://admin.example.com
#   CORS_ORIGINS=https://example.com
# For development, defaults to localhost origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# =============================================================================
# Security Configuration
# =============================================================================
# Enable HTTPS enforcement (checks X-Forwarded-Proto header)
# Set to true in production behind a reverse proxy/load balancer
# Default: true in production, false in development
ENFORCE_HTTPS=false

# =============================================================================
# Solana Configuration
# =============================================================================
# Solana RPC endpoint (devnet, testnet, or mainnet)
# Devnet: https://api.devnet.solana.com
# Testnet: https://api.testnet.solana.com
# Mainnet: https://api.mainnet-beta.solana.com (use your own RPC for production)
SOLANA_RPC_URL=https://api.devnet.solana.com

# SSS Token Program ID
PROGRAM_ID=SSSToken11111111111111111111111111111111111

# Authority keypair for signing transactions (base58 encoded private key)
# WARNING: NEVER commit this value to version control!
# Generate with: solana-keygen new --outfile authority.json
# Export with: cat authority.json | jq -r '.[]' | tr -d '\n'
# AUTHORITY_KEYPAIR=your_base58_encoded_private_key_here

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_METRICS=true
ENABLE_WEBHOOKS=true

# =============================================================================
# Nginx Configuration (Production Only)
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# Production-Specific Settings
# =============================================================================
# Uncomment and configure these for production deployment

# Environment MUST be set to production
# ENVIRONMENT=production

# Use dedicated Solana RPC provider (recommended)
# SOLANA_RPC_URL=https://your-rpc-provider.example.com

# Use stronger JWT secret (generate with: openssl rand -base64 64)
# JWT_SECRET=your_generated_secret_here (min 32 characters)

# Use strong CSRF secret (generate with: openssl rand -base64 64)
# CSRF_SECRET=your_generated_csrf_secret_here (min 32 characters)

# Configure allowed CORS origins
# CORS_ORIGINS=https://your-frontend.com,https://admin.your-frontend.com

# Enable HTTPS enforcement
# ENFORCE_HTTPS=true

# Configure Redis password
# REDIS_PASSWORD=your_redis_password

# Use mainnet program
# PROGRAM_ID=YourMainnetProgramId111111111111111111111

# =============================================================================
# Security Checklist for Production
# =============================================================================
# [ ] Set ENVIRONMENT=production
# [ ] Change POSTGRES_PASSWORD to a strong random password
# [ ] Set JWT_SECRET to a secure random string (64+ characters)
# [ ] Set CSRF_SECRET to a secure random string (64+ characters)
# [ ] Configure CORS_ORIGINS with your production domains
# [ ] Set ENFORCE_HTTPS=true
# [ ] Set REDIS_PASSWORD for Redis authentication
# [ ] Configure SOLANA_RPC_URL to use a dedicated RPC provider
# [ ] Set PROGRAM_ID to your deployed mainnet program
# [ ] Enable HTTPS in nginx configuration
# [ ] Configure proper SSL/TLS certificates
# [ ] Set up proper backup strategies for PostgreSQL
# [ ] Configure firewall rules to restrict access
# [ ] Review and rotate all secrets regularly

